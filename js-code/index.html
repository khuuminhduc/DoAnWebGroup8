<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <header>
      <main class="header">
        <li>
          <a href="#" class="home" id="home" data-name="home">Trang chủ</a>
        </li>
        <li>
          <a href="#" class="product" id="product" data-name="product"
            >Sản phẩm</a
          >
        </li>
        <li>
          <a href="#" class="contact" id="contact" data-name="contact"
            >Liên hệ</a
          >
        </li>
        <li>
          <a href="#" class="CSKH" id="CSKH" data-name="CSKH"
            >Chăm sóc khách hàng</a
          >
        </li>
      </main>
      <main>
        <div id="content-header">
          <!-- <div class = "content-home">Bạn đang ở trang chủ</div> -->
          <!-- <div class="content-product">
            Sản phẩm của chúng tôi
            <div>
              <li>
                <a href="#" class="all-product" data-product="all"
                  >Tất cả sản phẩm</a
                >
              </li>
              <li>
                <a href="#" class="soccer-product" data-product="soccer"
                  >Bóng đá</a
                >
              </li>
              <li>
                <a href="#" class="basketball-product" data-product="basketball"
                  >Bóng rổ</a
                >
              </li>
              <li>
                <a href="#" class="running-product" data-product="running"
                  >Chạy bộ</a
                >
              </li>
            </div>
          </div> -->
          <!-- <div class = "content-contact">SĐT: 0123456789</div> -->
          <!-- <div class = "content-CSKH">Liên hệ vs chúng tôi nếu sản phẩm của bạn gặp vấn đề</div> -->
        </div>
        <div>
          <button id="back-headerContent">back-headerContent</button>
        </div>
      </main>
    </header>
    <main>
      <div class="all-product" id="all-product" data-product="all">
        <div data-product="soccerProduct">Sản phẩm bóng đá 1</div>
        <div data-product="soccerProduct">Sản phẩm bóng đá 2</div>
        <div data-product="basketballProduct">Sản phẩm bóng rổ 1</div>
        <div data-product="basketballProduct">Sản phẩm bóng rổ 2</div>
        <div data-product="runningProduct">Sản phẩm chạy bộ 1</div>
        <div data-product="runningProduct">Sản phẩm chạy bộ 2</div>
      </div>
      <div class="show-product" id="show-product"></div>
      <div>
        <button id="back-listTypesProduct">back-listTypesProduct</button>
      </div>
    </main>
    <main>
      <div class="detailProduct" id="detailProduct">
        <!-- <div class="detailProduct-soccer" data-id="0">
          Chi tiết sản phẩm soccer 1
        </div>
        <div class="detailProduct-soccer" data-id="1">
          Chi tiết sản phẩm soccer 2
        </div>
        <div class="detailProduct-basketball" data-id="0">
          Chi tiết sản phẩm basketball 1
        </div>
        <div class="detailProduct-basketball" data-id="1">
          Chi tiết sản phẩm basketball 2
        </div>
        <div class="detailProduct-running" data-id="0">
          Chi tiết sản phẩm running 1
        </div>
        <div class="detailProduct-running" data-id="1">
          Chi tiết sản phẩm running 2
        </div> -->
      </div>
      <div>
        <button class="backListProduct">Quay lại list sản phẩm</button>
      </div>
    </main>
    <script>
      const contentHeaderMap = {
        home: `<div class = "content-home">Bạn đang ở trang chủ</div>`,
        product: ` <div class = "content-product">Sản phẩm của chúng tôi
          <div>
              <li>
                <a href="#" class="allProduct" data-product="all"
                  >Tất cả sản phẩm</a
                >
              </li>
              <li>
                <a href="#" class="soccerProduct" data-product="soccer"
                  >Bóng đá</a
                >
              </li>
              <li>
                <a href="#" class="basketballProduct" data-product="basketball"
                  >Bóng rổ</a
                >
              </li>
              <li>
                <a href="#" class="runningProduct" data-product="running"
                  >Chạy bộ</a
                >
              </li>
            </div>
          </div>`,
        contact: `<div class = "content-contact">SĐT: 0123456789</div>`,
        CSKH: ` <div class = "content-CSKH">Liên hệ vs chúng tôi nếu sản phẩm của bạn gặp vấn đề</div>`,
      };
      const typesProductMap = {
        soccer: [
          ` <div data-product="soccerProduct">Sản phẩm bóng đá 1</div>`,
          `<div data-product="soccerProduct">Sản phẩm bóng đá 2</div>`,
        ],
        basketball: [
          `<div data-product="basketballProduct">Sản phẩm bóng rổ 1</div>`,
          `<div data-product="basketballProduct">Sản phẩm bóng rổ 2</div>`,
        ],
        running: [
          `<div data-product="runningProduct">Sản phẩm chạy bộ 1</div>`,
          `<div data-product="runningProduct">Sản phẩm chạy bộ 2</div>`,
        ],
      };
      const detailProductMap = {
        soccerProduct: [
          `<div class="detailProduct-soccer" data-id="0">
          Chi tiết sản phẩm soccer 1
        </div>`,
          `<div class="detailProduct-soccer" data-id="1">
          Chi tiết sản phẩm soccer 2
        </div>`,
        ],
        basketballProduct: [
          ` <div class="detailProduct-basketball" data-id="0">
          Chi tiết sản phẩm basketball 1
        </div>`,
          ` <div class="detailProduct-basketball" data-id="1">
          Chi tiết sản phẩm basketball 2
        </div>`,
        ],
        runningProduct: [
          `<div class="detailProduct-running" data-id="0">
          Chi tiết sản phẩm running 1
        </div>`,
          `<div class="detailProduct-running" data-id="1">
          Chi tiết sản phẩm running 2
        </div>`,
        ],
      };
      const contentHeader = document.getElementById("content-header");
      const header = document.querySelector(".header");
      const backHeaderContent = document.querySelector("#back-headerContent");
      backHeaderContent.style.display = "none";
      const showProduct = document.querySelector("#show-product");
      const allProduct = document.getElementById("all-product");
      const backListTypesProduct = document.getElementById(
        "back-listTypesProduct"
      );
      backListTypesProduct.style.display = "none";
      const detailProduct = document.getElementById("detailProduct");
      const backListProduct = document.querySelector(".backListProduct");
      backListProduct.style.display = "none";
      function updateContentHeader(content) {
        if (contentHeaderMap[content]) {
          contentHeader.innerHTML = contentHeaderMap[content];
          header.style.display = "none";
        }
      }
      function updateTypeListProduct(typeProduct) {
        if (typesProductMap[typeProduct]) {
          showProduct.innerHTML = typesProductMap[typeProduct].join("");
          // console.log(showProduct);
          showProduct.classList.add = ".show-product div";
          document.querySelectorAll(".show-product div").forEach((element) => {
            element.addEventListener("click", function () {
              const local = typesProductMap[typeProduct].findIndex(
                (index) => index.trim() === element.outerHTML.trim()
              );
              const res = element.getAttribute("data-product");
              if (typeProduct) {
                detailProduct.innerHTML = detailProductMap[res][local];
                showProduct.textContent = "";
                backListTypesProduct.style.display = "none";
                backListProduct.style.display = "block";
              }
            });
          });
        }
      }
      document
        .querySelector(".header")
        .addEventListener("click", function (event) {
          event.preventDefault();
          const content = event.target.getAttribute("data-name");
          if (content) {
            updateContentHeader(content);
            if (content === "product") {
              contentHeader.classList.add = ".content-product li > a";
              document
                .querySelectorAll(".content-product li > a")
                .forEach((element) => {
                  element.addEventListener("click", function (event) {
                    // console.log("Click Successful");
                    event.preventDefault();
                    const typeProduct =
                      event.target.getAttribute("data-product");
                    if (typeProduct) {
                      if (typeProduct === "all") {
                        // console.log("All");
                        allProduct.style.display = "block";
                        contentHeader.textContent = "";
                        backHeaderContent.style.display = "none";
                        backListTypesProduct.style.display = "block";
                      } else {
                        // console.log("Update");
                        updateTypeListProduct(typeProduct);
                        contentHeader.textContent = "";
                        backHeaderContent.style.display = "none";
                        backListTypesProduct.style.display = "block";
                      }
                    }
                  });
                });
            }
            backHeaderContent.style.display = "block";
          }
        });
      backHeaderContent.addEventListener("click", function () {
        header.style.display = "block";
        backHeaderContent.style.display = "none";
        contentHeader.textContent = "";
      });
      backListTypesProduct.addEventListener("click", function () {
        // console.log("back-headerContent Successful");
        backHeaderContent.style.display = "block";
        backListTypesProduct.style.display = "none";
        showProduct.textContent = "";
        allProduct.style.display = "none";
        contentHeader.innerHTML = contentHeaderMap["product"];
        document
          .querySelectorAll(".content-product li > a")
          .forEach((element) => {
            element.addEventListener("click", function (event) {
              // console.log("Click Successful");
              event.preventDefault();
              const typeProduct = event.target.getAttribute("data-product");
              if (typeProduct) {
                if (typeProduct === "all") {
                  // console.log("All");
                  allProduct.style.display = "block";
                  // contentHeader.textContent = "";
                  backHeaderContent.style.display = "none";
                  backListTypesProduct.style.display = "block";
                  contentHeader.textContent = "";
                } else {
                  // console.log("Update");
                  updateTypeListProduct(typeProduct);
                  contentHeader.textContent = "";
                  backHeaderContent.style.display = "none";
                  backListTypesProduct.style.display = "block";
                }
              }
            });
          });
      });
      backListProduct.addEventListener("click", function () {
        console.log("Successful");
      });
    </script>
  </body>
</html>
